# package-lock.json and Versioning NPM Packages

**When package.json & package-lock.json are created, updated?**  
`npm init` at the beginning $\rightarrow$ `package.json` is created.  
`npm install` first time $\rightarrow$ `package.json` is updated, `package-lock.json` is created.  
`npm install` subsequent $\rightarrow$ `package.json` is updated, `package-lock.json` is updated.  
`npm update` $\rightarrow$ `package.json` is updated, `package-lock.json` is updated.  

**Dependency Information**  
`package-lock.json` contains information about what all the dependencies are installed in our application
with their exact version.

Check the following example:  

```JSON
  "dependencies": {
    ...
    "axios": {
      "version": "1.3.3",
      "resolved": "https://registry.npmjs.org/axios/-/axios-1.3.3.tgz",
      "integrity": "sha512-eYq77dYIFS77AQlhzEL937yUBSepBfPIe8FcgEDN35vMNZKMrs81pgnyrQpwfy4NF4b4XWX1Zgx7yX+25w8QJA==",
      "requires": {
        "follow-redirects": "^1.15.0",
        "form-data": "^4.0.0",
        "proxy-from-env": "^1.1.0"
      }
    },
    ...
```

**version**  
The exact version installed.

**resolved**  
The location from where the dependency is resolved/coming.

**integrity**  
It confirms that the installed package is not corrupted.

**requires**  
What are the dependencies of it.

> By using package-lock.json we ensure that the same version of dependencies will be
> installed whenever a project is setup again on the same or different system.

**MAJOR.MINOR.PATCH**  
Given a version number MAJOR.MINOR.PATCH, increment the:  

1. **MAJOR** version when you make incompatible API changes
2. **MINOR** version when you add functionality in a backward compatible manner
3. **PATCH** version when you make backward compatible bug fixes

**Sementic Versioning Calculator**  
We can use [npm semver calculator](https://semver.npmjs.com/) to check the range of a
dependency which can be installed/updated.

`>` or `>=` allows to update MAJOR, MINOR & PATCH versions.

`^` allows to update MINOR & PATCH versions.

`~` allows to update only PATCH versions.

Special Case for pre 1.0 versions:  
For example, go to [npm semver calculator](https://semver.npmjs.com/) and check "lodash" package for "^0.8.0" version.  
MINOR version is treated as a MAJOR version,  
and so in this case it allows to update only PATCH version when we use "^".
