# `var`, `let`, `const`

The introduction of `let` and `const` in ES6 (ECMAScript 2015) addressed many of the common issues and ambiguities associated with `var`, fundamentally changing how variables are scoped and used in JavaScript.

| Feature | `var` (Legacy) | `let` (Modern) | `const` (Modern) |
| :--- | :--- | :--- | :--- |
| **Scope** | **Function-scoped** or Global-scoped. Ignores block scope (`if`, `for` loops). | **Block-scoped**. Confined to the nearest pair of curly braces (`{}`). | **Block-scoped**. Confined to the nearest pair of curly braces (`{}`). |
| **Hoisting** | Hoisted to the top of its scope and initialized with **`undefined`**. | Hoisted, but remains **uninitialized** (in the **Temporal Dead Zone / TDZ**) until the declaration is reached. | Hoisted, but remains **uninitialized** (in the **Temporal Dead Zone / TDZ**) until the declaration is reached. |
| **Re-declaration** | **Allowed** in the same scope without error. | **Not Allowed** in the same scope. Throws a `SyntaxError`. | **Not Allowed** in the same scope. Throws a `SyntaxError`. |
| **Re-assignment** | **Allowed** (can change the value later). | **Allowed** (can change the value later). | **Not Allowed** (must be initialized on declaration and cannot change the value). |

## Key Differences and Implications

### 1\. Scoping Rule: Function vs. Block

Example:  

```JavaScript
for (var i = 0; i < 1; i++) {
    //...
}
console.log(i); // Output: 1 (leaks outside loop)
```

`var` is **function-scoped**.  
The loop body is a block, but `i` leaks out and is accessible globally or throughout the function.  

Example:  

```JavaScript
for (let j = 0; j < 1; j++) {
    //...
}
console.log(j); // ReferenceError: j is not defined
```

`let` and `const` are **block-scoped**.  
The variable `j` is confined to the loop block, preventing accidental access or collisions.  

### 2\. Hoisting and the Temporal Dead Zone (TDZ)

Example:  

```JavaScript
console.log(a); // undefined
var a = 10;
```

Since `var a` is hoisted and initialized to `undefined`, the code executes without crashing, but its output is often unexpected.  

Example:  

```JavaScript
console.log(b); // ReferenceError: b is not defined
let b = 10;
```

`let/const` is hoisted but uninitialized. Attempting to access it results in a **ReferenceError**, which is a better signal to the developer that they used the variable before declaring it. This period of inaccessibility is the **TDZ**.  

### 3\. Mutability (`let` vs. `const`)

Example:  

```JavaScript
let name = 'Bob';
name = 'Alice'; // Allowed
```

Use `let` for variables whose value is expected to change (e.g., counters in a loop, re-assigned variables).

Example:  

```JavaScript
const PI = 3.14;
PI = 3.141; // TypeError: Assignment to constant variable.
```

Use `const` for variables whose value should **never** change.  
This does **not** mean the value is immutable, only that the variable **binding** cannot be re-assigned.

**Important `const` Note:**  
`const` prevents re-assignment of the variable itself,  
but for non-primitive values (objects/arrays), it **does not** prevent mutation of the object/array contents.

Example:  

```javascript
const user = { name: 'Bob' };
user.name = 'Alice'; // ALLOWED (mutating the object content)
// user = { name: 'Charlie' }; // NOT ALLOWED (re-assigning the variable)
```

## Best Practices (The Modern Standard) ðŸŒŸ

1. **Avoid `var`:** In all new code, completely discontinue the use of `var`. It is legacy and causes scope confusion, making code harder to maintain and debug.
2. **Prioritize `const`:** Start with `const` for every variable declaration. If you find that you must re-assign the variable later, and only then, switch to `let`. This makes your code more declarative and minimizes unexpected changes.
3. **Use `let` Sparingly:** Reserve `let` for things like loop counters, or values that genuinely need to change over the life cycle of a function (e.g., a total score).
4. **Block Scope Awareness:** Utilize the block scope of `let` and `const` to keep variables contained locally, improving code isolation and preventing accidental global pollution.

## ðŸ”— References

* **MDN Web Docs:** [`var` - JavaScript](https://www.google.com/search?q=%5Bhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var%5D\(https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var\)), [`let` - JavaScript](https://www.google.com/search?q=%5Bhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let%5D\(https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let\)), [`const` - JavaScript](https://www.google.com/search?q=%5Bhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const%5D\(https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const\))
* **javascript.info:** [var, let, const difference](https://www.google.com/search?q=https://javascript.info/var-let-const)
