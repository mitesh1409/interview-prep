# Shallow Copy vs Deep Copy

Shallow = Not Deep

**Shallow Copy**: Copy of an object upto first/top level. Nested objects' references are copied.

**Deep Copy**: Copy of an object covering all nested levels. It is complete copy.

In JavaScript, copying objects or arrays can be done in two main ways: shallow copy and deep copy. The distinction lies in how nested data structures are handled. 

## Shallow Copy

* A shallow copy creates a new object or array and copies the values of the original object's top-level properties. 
* If any of these top-level properties are primitive values (like numbers, strings, booleans), their values are copied directly. 
* However, if a top-level property is a reference to another object or array (i.e., a nested object or array), only the reference to that nested structure is copied, not the nested structure itself. 
* This means that both the original and the shallow copy will point to the same nested object/array in memory. Consequently, modifying the nested object/array in either the original or the shallow copy will affect the other. [1]  

Example of Shallow Copy:  

```javascript
const johnWick = {
    name: "John Wick",
    dob: "1971-09-26",
    occupation: "Assassin",
    weapon: "Pistol",
    account: {
        status: "Active",
        balance: 1000000
    },
    skills: [
        "Hand-to-hand combat",
        "Marksmanship",
        "Tactical driving"
    ]
};

// Shallow Copy using Spread Operator.
const johnWickCopy = {...johnWick};

console.log("At the beginning");
console.log("Original John Wick:", JSON.stringify(johnWick));
console.log("Shallow Copy of John Wick:", JSON.stringify(johnWickCopy));

// Modifying the shallow copy.
johnWickCopy.account.status = "Inactive";
johnWickCopy.skills.push("Stealth");
johnWickCopy.name = "Jonathan Wick";

console.log("After modifications to the shallow copy");
console.log("Original John Wick:", JSON.stringify(johnWick));
console.log("Shallow Copy of John Wick:", JSON.stringify(johnWickCopy));
```

## Deep Copy

* A deep copy creates a completely independent copy of the original object or array, including all nested objects and arrays. 
* It recursively duplicates all levels of the data structure, ensuring that no references are shared between the original and the deep copy. 
* Modifying any part of the deep copy, including nested structures, will not affect the original object or array, and vice versa. 

Example of Deep Copy:  

```javascript
const johnWick = {
    name: "John Wick",
    dob: "1971-09-26",
    occupation: "Assassin",
    weapon: "Pistol",
    account: {
        status: "Active",
        balance: 1000000
    },
    skills: [
        "Hand-to-hand combat",
        "Marksmanship",
        "Tactical driving"
    ]
};

// Deep Copy using JSON methods.
const johnWickDeepCopy = JSON.parse(JSON.stringify(johnWick));

console.log("At the beginning");
console.log("Original John Wick:", JSON.stringify(johnWick));
console.log("Deep Copy of John Wick:", JSON.stringify(johnWickDeepCopy));

// Modifying the deep copy.
johnWickDeepCopy.account.status = "Inactive";
johnWickDeepCopy.skills.push("Stealth");
johnWickDeepCopy.name = "Jonathan Wick";

console.log("After modifications to the deep copy");
console.log("Original John Wick:", JSON.stringify(johnWick));
console.log("Deep Copy of John Wick:", JSON.stringify(johnWickDeepCopy));
```

Note: While JSON.parse(JSON.stringify(object)) is a common way to achieve a deep copy, it has limitations. It cannot handle functions, Date objects, RegExp objects, Map, Set, or circular references within the object. For more robust deep copying, especially with complex data types or circular references, the structuredClone() function (available in modern browsers and Node.js) or a dedicated library like Lodash's _.cloneDeep() is recommended. 
