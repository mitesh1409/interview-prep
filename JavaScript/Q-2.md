# Lexical Environment

## What is it?

In JavaScript, a Lexical Environment is a fundamental internal mechanism that defines how variables, functions, and other identifiers are resolved within a particular scope. It is created whenever an execution context is created, which happens when a function is called, a block of code {} is entered, or the global script starts.  

Each Lexical Environment consists of two main components:  

* **Environment Record**: This is an object that stores all the local variables, function declarations, and arguments within the current scope as its properties. For example, if you declare let x = 10; inside a function, x becomes a property of that function's Environment Record.  
* **Reference to the Outer Lexical Environment**: This is a pointer to the Lexical Environment of the code that physically encloses the current code. This "outer" reference is crucial for understanding how variable lookups work and how closures are formed. 

## How it works?

* When a variable or function is accessed, JavaScript first looks for it in the current Lexical Environment's Environment Record.  
* If not found, it then looks in the outer Lexical Environment, following the chain of outer references until it finds the identifier or reaches the global Lexical Environment (which has no outer reference, pointing to null). This process is known as the scope chain.  
* The "lexical" part emphasizes that the structure of these environments and their relationships are determined by the physical placement of the code in the source file, not by how functions are called at runtime.  

## Code Example

```JavaScript
let globalVar = 'I am global';

function outerFunction() {
  let outerVar = 'I am outer';

  function innerFunction() {
    let innerVar = 'I am inner';
    console.log(globalVar); // Accesses globalVar from the global Lexical Environment
    console.log(outerVar);  // Accesses outerVar from outerFunction's Lexical Environment
    console.log(innerVar);  // Accesses innerVar from innerFunction's Lexical Environment
  }

  innerFunction();
}

outerFunction();
```

In this example:  

• innerFunction's Lexical Environment has a reference to outerFunction's Lexical Environment. 
• outerFunction's Lexical Environment has a reference to the Global Lexical Environment. [1]  
• This chain allows innerFunction to access variables declared in its enclosing scopes. 
